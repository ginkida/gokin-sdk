name: Release

on:
  push:
    tags:
      - "v*"

permissions:
  contents: write

jobs:
  release:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - name: Set up Go
        uses: actions/setup-go@v5
        with:
          go-version: "1.23.x"

      - name: Verify build
        run: go build ./...

      - name: Create Release
        uses: softprops/action-gh-release@v2
        with:
          generate_release_notes: false
          body: |
            ## gokin-sdk ${{ github.ref_name }} — Initial Public Release

            Go framework for building AI agents with tool use, multi-agent orchestration, and planning.

            ### Highlights

            - **Multi-provider support** — Gemini, Anthropic (Claude), Ollama
            - **29 built-in tools** — bash, file I/O, git, grep, web search, and more
            - **Multi-agent execution** — Runner/Coordinator for parallel and sequential agents
            - **Planning engine** — Beam search, MCTS, A* strategies
            - **Smart routing** — Adaptive task routing with strategy learning
            - **MCP support** — Model Context Protocol for external tool servers
            - **Sessions** — Persistent conversations with auto-save
            - **Security** — Command sandboxing, path validation, permission system

            ### Installation

            ```bash
            go get github.com/ginkida/gokin-sdk@${{ github.ref_name }}
            ```
